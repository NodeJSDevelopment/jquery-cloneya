(function(a){var c=function(){};var b=function(m,o){var n=/^(.*)(\d)+$/i;var g=a(m);var l=this;var i={maxLimit:999,toClone:"clonedInput",baseID:"",dataClone:false,deepClone:false,cloneButton:".clone",removeButton:".remove",clonePosition:"after",idtext:"cloneyable",beforeClone:c,afterClone:c,beforeAppend:c,afterAppend:c,beforeRemove:c,afterRemove:c,maxLimitReach:c};var e=a.extend(i,o||{});this.getConfig=function(){return e;};var d=g.find("."+e.toClone);if(!e.baseID){mainid=e.baseID;}else{mainid=d.first().attr("id");}mainid=d.first().attr("id");var h=d.length;g.on("click",e.cloneButton,function(p){p.preventDefault();if(h<e.maxLimit){$toclone=a(this).closest("."+e.toClone);e.beforeClone($toclone);$newclone=$toclone.clone({withDataAndEvents:e.dataClone,deepWithDataAndEvents:e.deepClone});currIndex=h+1;e.afterClone($toclone,$newclone);e.beforeAppend($toclone,$newclone);if(e.clonePosition!="after"){$toclone.before($newclone);}else{$toclone.after($newclone);}k();e.afterAppend($toclone,$newclone);h++;}else{e.maxLimitReach(e.maxLimit);}});g.on("click",e.removeButton,function(p){p.preventDefault();if(h>1){$toremove=a(this).closest("."+e.toClone);f($toremove);h--;}});var f=function(p){e.beforeRemove(p,function(){$toremove.remove();});e.afterRemove();};var k=function(){a("."+e.toClone).each(function(p){if(p!=0){j=p;}else{j="";}a(this).attr("id",mainid+j);a(this).find("*").each(function(){var r=a(this).attr("id");if(r){var q=r.match(n);if(q&&q.length==3){a(this).attr("id",q[1]+j);}else{a(this).attr("id",r+j);}}});});};};a.fn.cloneya=function(d){return this.each(function(){var e=a(this);if(e.data("cloneya")){return;}var f=new b(this,d);e.data("cloneya",f);});};})(jQuery);